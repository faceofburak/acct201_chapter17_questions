<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chapter 17 – Financial Statement Analysis (60 MCQ)</title>
  <style>
    :root{
      --bg: #0f1220;
      --card: #151935;
      --muted: #99a3ff33;
      --text: #e8ebff;
      --sub: #b7c0ff;
      --accent: #7c8cff;
      --accent-2:#33d6a6;
      --danger:#ff6b6b;
      --ok:#2ad07b;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f3f5ff; --card:#ffffff; --text:#0e1033; --sub:#3b3f6b; --muted:#0e10330e; --accent:#3941ff; --accent-2:#0f9f7f; --shadow: 0 10px 25px rgba(57,65,255,.12) }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 600px at 90% -10%, #2a2e6b33, transparent 70%), radial-gradient(900px 500px at -10% 100%, #2a6b5a22, transparent 60%), var(--bg);
      color:var(--text); font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{ width:min(980px, 100%); }
    .header{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:14px; }
    .brand{ display:flex; align-items:center; gap:12px }
    .logo{ width:42px; height:42px; border-radius:12px; background: linear-gradient(135deg, var(--accent), var(--accent-2)); display:grid; place-items:center; color:white; font-weight:800; box-shadow: var(--shadow) }
    .title{ font-weight:800; letter-spacing:.2px; }
    .subtitle{ color:var(--sub); font-size:.95rem }
    .card{ background:linear-gradient(180deg, color-mix(in hsl, var(--card), transparent 10%) 0%, var(--card) 80%); border:1px solid color-mix(in hsl, var(--text), transparent 90%);
      border-radius:var(--radius); box-shadow: var(--shadow); padding: 22px; position:relative; overflow:hidden }

    .progress{ display:flex; align-items:center; gap:12px; margin: 8px 0 16px }
    .pill{ font-weight:600; color:var(--sub); border:1px solid var(--muted); padding:6px 10px; border-radius:999px }
    .bar{ height:10px; border-radius:999px; background: color-mix(in hsl, var(--text), transparent 93%); position:relative; flex:1; overflow:hidden }
    .bar>span{ position:absolute; inset:0; width:0; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }

    .q-index{ font-size:.95rem; letter-spacing:.2px; color:var(--sub) }
    .question{ font-size:1.25rem; font-weight:750; margin:4px 0 12px }

    .options{ display:grid; gap:10px; margin: 6px 0 12px }
    .option{ border:1px solid color-mix(in hsl, var(--text), transparent 88%); border-radius:14px; padding:14px 14px; background: color-mix(in hsl, var(--card), transparent 0%); cursor:pointer; display:flex; gap:12px; align-items:flex-start; transition: transform .08s ease, border-color .2s ease, background .2s ease }
    .option:hover{ transform: translateY(-1px); border-color: color-mix(in hsl, var(--accent), transparent 40%); }
    .opt-key{ flex: 0 0 36px; height:36px; border-radius:10px; display:grid; place-items:center; font-weight:800; background: color-mix(in hsl, var(--text), transparent 88%); color:var(--text) }
    .opt-text{ flex:1 }
    .option[aria-selected="true"]{ border-color: color-mix(in hsl, var(--accent), transparent 20%); background: color-mix(in hsl, var(--accent), transparent 90%); }
    .option.correct{ border-color: var(--ok); background: color-mix(in hsl, var(--ok), transparent 90%); }
    .option.wrong{ border-color: var(--danger); background: color-mix(in hsl, var(--danger), transparent 92%); }

    .actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-top:8px }
    .btn{ border:none; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:white; font-weight:700; padding:12px 16px; border-radius:12px; cursor:pointer; box-shadow: var(--shadow); transition: transform .08s ease, filter .2s }
    .btn:active{ transform: translateY(1px) }
    .btn.secondary{ background: transparent; color:var(--text); border:1px solid color-mix(in hsl, var(--text), transparent 85%); }

    .reveal{ margin-top:10px; padding:12px 14px; border-radius:12px; background: color-mix(in hsl, var(--accent), transparent 92%); border: 1px dashed color-mix(in hsl, var(--accent), transparent 35%); display:none }
    .reveal.show{ display:block }

    .nav{ display:flex; align-items:center; justify-content:space-between; margin-top:14px }
    .nav .arrow{ width:52px; height:52px; border-radius:50%; border:1px solid color-mix(in hsl, var(--text), transparent 80%); background: color-mix(in hsl, var(--card), transparent 0%); display:grid; place-items:center; cursor:pointer; box-shadow: var(--shadow) }
    .nav .arrow:active{ transform: translateY(1px) }
    .nav .arrow svg{ width:22px; height:22px; fill: currentColor; color: var(--text) }

    .kbd{ background: color-mix(in hsl, var(--text), transparent 90%); border:1px solid color-mix(in hsl, var(--text), transparent 80%); padding: 2px 6px; border-radius:6px; font-size:.9rem }

    .footer{ margin-top:10px; color:var(--sub); font-size:.92rem }
    .grid{ display:grid; gap:14px }

    @media (min-width: 860px){
      .grid{ grid-template-columns: 88px 1fr 88px }
      .nav{ grid-column: 1 / -1 }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="header">
      <div class="brand">
        <div class="logo" aria-hidden="true">Q</div>
        <div>
          <div class="title">Financial Statement Analysis – 60 MCQ</div>
          <div class="subtitle">Chapter 17 • Horizontal/Vertical Analysis • Ratios • Red Flags • EPS & Special Items</div>
        </div>
      </div>
      <div class="pill" id="progressPill">1 / 60</div>
    </div>

    <div class="card">
      <div class="progress">
        <div class="bar" aria-hidden="true"><span id="bar"></span></div>
        <div class="q-index" id="qIndex">Question 1</div>
      </div>

      <div class="grid">
        
        <div class="nav-left">
          <button class="arrow" id="prevBtn" title="Previous (←)">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
          </button>
        </div>

        <div>
          <div class="q-index" id="sectionText">Section</div>
          <div class="question" id="questionText">Loading…</div>
          <div class="options" id="options"></div>

          <div class="actions">
            <button class="btn" id="revealBtn">Show Answer</button>
            <button class="btn secondary" id="resetBtn" title="Clear selection on this question">Clear Selection</button>
          </div>
          <div class="reveal" id="revealBox" role="status" aria-live="polite"></div>

          <div class="footer">
            Use <span class="kbd">←</span> <span class="kbd">→</span> to navigate • <span class="kbd">R</span> to reveal • <span class="kbd">C</span> to clear selection
          </div>
        </div>

        <div class="nav-right" style="display:flex; justify-content:flex-end">
          <button class="arrow" id="nextBtn" title="Next (→)">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="m10 6-1.41 1.41L12.17 11H4v2h8.17l-3.58 3.59L10 18l6-6z"/></svg>
          </button>
        </div>

        <div class="nav">
          <div class="subtitle">Tip: Click an option to mark your choice. “Show Answer” will highlight the correct one.</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 60 Questions Dataset
    // Each item: {section, q, options:[A,B,C,D], correct: idx (0-3)}
    const QUESTIONS = [
      // 1–15 (Part 1)
      {section:"General Concepts", q:"Which of the following best describes the main purpose of horizontal analysis?", options:["Comparing a company’s performance to industry averages","Evaluating year-to-year percentage changes in financial statement items","Measuring the proportion of assets financed by debt","Identifying extraordinary items on the income statement"], correct:1},
      {section:"General Concepts", q:"A vertical analysis of an income statement uses which figure as the base amount (100%)?", options:["Net income","Total assets","Net sales","Total equity"], correct:2},
      {section:"General Concepts", q:"Why might ratio analysis be insufficient if used alone for decision-making?", options:["Ratios are always outdated","Ratios require common-size statements to be valid","Ratios may not reveal qualitative factors affecting performance","Ratios only apply to manufacturing companies"], correct:2},
      {section:"General Concepts", q:"Which of the following is NOT a typical component of a corporate financial report?", options:["MD&A section","Independent auditors’ report","Product development strategy report","Notes to financial statements"], correct:2},
      {section:"General Concepts", q:"Which analysis method removes the bias caused by differences in company size?", options:["Horizontal analysis","Common-size statements","Trend analysis","Asset turnover ratio"], correct:1},
      {section:"Horizontal & Trend Analysis", q:"If a company’s net sales increased from $1,000,000 in 2022 to $1,150,000 in 2023, the percentage change is:", options:["10%","12%","15%","20%"], correct:1},
      {section:"Horizontal & Trend Analysis", q:"In horizontal analysis, the “base period” refers to:", options:["The most recent year","The year against which all other years are compared","The industry average year","The year with the highest revenue"], correct:1},
      {section:"Horizontal & Trend Analysis", q:"In trend analysis, if the base year net sales = $800,000 and the current year net sales = $1,000,000, the trend percentage is:", options:["100%","110%","120%","125%"], correct:2},
      {section:"Horizontal & Trend Analysis", q:"Which of the following situations could a horizontal analysis reveal?", options:["One department consistently exceeding industry profit margins","Rapid growth in inventory compared to sales over multiple years","A single-year decline in P/E ratio","Changes in capital structure over an industry cycle"], correct:1},
      {section:"Horizontal & Trend Analysis", q:"Why can base-year selection significantly influence trend analysis conclusions?", options:["Because all percentages will be recalculated relative to that year’s values","Because ratios are not affected by base year","Because base year determines dividend policy","Because it affects only qualitative interpretations"], correct:0},
      {section:"Liquidity Ratios", q:"The current ratio primarily measures:", options:["Long-term solvency","Ability to meet short-term obligations with current assets","Profitability per dollar of equity","The percentage of assets financed by debt"], correct:1},
      {section:"Liquidity Ratios", q:"Which of the following ratios is the most conservative liquidity measure?", options:["Current ratio","Acid-test ratio","Cash ratio","Working capital ratio"], correct:2},
      {section:"Liquidity Ratios", q:"If a company’s current assets = $900,000 and current liabilities = $600,000, the current ratio is:", options:["0.67","1.25","1.5","1.75"], correct:2},
      {section:"Liquidity Ratios", q:"The acid-test ratio excludes which of the following from current assets?", options:["Cash","Accounts receivable","Inventory","Short-term investments"], correct:2},
      {section:"Liquidity Ratios", q:"A cash ratio below 0.2 could indicate:", options:["Excess cash holdings","Strong liquidity","Over-reliance on inventory sales to meet obligations","Over-capitalization"], correct:2},

      // 16–25 (Part 2 – Efficiency & Turnover)
      {section:"Efficiency & Turnover", q:"The inventory turnover ratio is calculated by:", options:["Net sales ÷ Average inventory","Cost of goods sold ÷ Average inventory","Average inventory ÷ Cost of goods sold","Cost of goods sold ÷ Ending inventory"], correct:1},
      {section:"Efficiency & Turnover", q:"A company has COGS = $480,000 and average inventory = $80,000. Its inventory turnover ratio is:", options:["4","6","8","10"], correct:2},
      {section:"Efficiency & Turnover", q:"If a company’s inventory turnover decreases significantly, which is the MOST likely implication?", options:["Improved liquidity","Slower-moving inventory and potential obsolescence","Increased accounts payable turnover","Stronger profitability"], correct:1},
      {section:"Efficiency & Turnover", q:"Which ratio measures the number of times receivables are collected during a year?", options:["Days’ sales in receivables","Accounts payable turnover","Accounts receivable turnover","Equity turnover"], correct:2},
      {section:"Efficiency & Turnover", q:"If average accounts receivable = $50,000 and net credit sales = $600,000, the accounts receivable turnover ratio is:", options:["8","10","12","14"], correct:2},
      {section:"Efficiency & Turnover", q:"The days’ sales in receivables is calculated by:", options:["365 ÷ Accounts receivable turnover","Accounts receivable turnover ÷ 365","Accounts receivable ÷ 365","Net sales ÷ 365"], correct:0},
      {section:"Efficiency & Turnover", q:"Which metric indicates how many days it takes a company to pay its suppliers?", options:["Days’ sales in receivables","Days’ sales in payables","Accounts payable turnover","Leverage ratio"], correct:1},
      {section:"Efficiency & Turnover", q:"A higher asset turnover ratio generally suggests:", options:["The company is using its assets more efficiently to generate sales","The company has high liquidity","The company has low debt levels","The company is not reinvesting in assets"], correct:0},
      {section:"Efficiency & Turnover", q:"If net sales = $2,000,000 and average total assets = $1,000,000, the asset turnover ratio is:", options:["1.0","1.5","2.0","2.5"], correct:2},
      {section:"Efficiency & Turnover", q:"Which of the following would most likely cause a decline in fixed asset turnover?", options:["Selling underused equipment","Purchasing significant new machinery without immediate sales growth","Increasing sales without changing asset levels","Reducing debt"], correct:1},

      // 26–30 (Long-Term Solvency)
      {section:"Long-Term Solvency", q:"The debt ratio measures:", options:["Proportion of assets financed with debt","Debt relative to equity","Times interest can be paid","Long-term debt as a percentage of total capital employed"], correct:0},
      {section:"Long-Term Solvency", q:"A debt-to-equity ratio of 2.0 means:", options:["Equity is twice as large as debt","Debt is twice as large as equity","Debt and equity are equal","Debt equals half of total assets"], correct:1},
      {section:"Long-Term Solvency", q:"Times-interest-earned is also known as:", options:["Current coverage ratio","Interest coverage ratio","Liquidity ratio","Asset protection ratio"], correct:1},
      {section:"Long-Term Solvency", q:"If EBIT = $300,000 and interest expense = $75,000, the times-interest-earned ratio is:", options:["3","4","5","6"], correct:2},
      {section:"Long-Term Solvency", q:"The leverage ratio is defined as:", options:["Total debt ÷ Total assets","Long-term debt ÷ Capital employed","Total equity ÷ Total assets","Long-term debt ÷ Current liabilities"], correct:1},

      // 31–39 (Profitability)
      {section:"Profitability", q:"The gross profit percentage measures:", options:["Percentage of each sales dollar remaining after paying for goods sold","Net income per share of stock","Return on total assets","Ability to meet short-term obligations"], correct:0},
      {section:"Profitability", q:"If gross profit = $300,000 and net sales = $750,000, the gross profit percentage is:", options:["35%","40%","45%","50%"], correct:1},
      {section:"Profitability", q:"The profit margin ratio shows:", options:["Net income earned on each $1 of sales","Return on equity for shareholders","Return on assets","Proportion of assets financed by debt"], correct:0},
      {section:"Profitability", q:"If net income = $90,000 and net sales = $1,200,000, the profit margin ratio is:", options:["6%","7.5%","8%","10%"], correct:1},
      {section:"Profitability", q:"The rate of return on total assets formula is:", options:["(Net income + Interest expense) ÷ Average total assets","Net income ÷ Average total assets","(Net sales – COGS) ÷ Average total assets","EBIT ÷ Average total assets"], correct:0},
      {section:"Profitability", q:"If net income = $120,000, interest expense = $30,000, and average total assets = $750,000, the rate of return on total assets is:", options:["15%","18%","20%","25%"], correct:2},
      {section:"Profitability", q:"Trading on the equity occurs when:", options:["A company pays dividends from retained earnings","Return on equity > Return on total assets due to borrowed funds","Equity is higher than debt","Debt ratio exceeds 50%"], correct:1},
      {section:"Profitability", q:"Earnings per share (EPS) is calculated by:", options:["Net income ÷ Average total assets","(Net income – Preferred dividends) ÷ Average common shares outstanding","Net sales ÷ Average common shares outstanding","(Net income + Dividends) ÷ Common shares issued"], correct:1},
      {section:"Profitability", q:"If net income = $200,000, preferred dividends = $20,000, and average common shares = 36,000, EPS is:", options:["$5.00","$5.56","$6.00","$6.25"], correct:1},

      // 40–45 (Stock Investment Ratios)
      {section:"Stock Investment Ratios", q:"The price/earnings (P/E) ratio measures:", options:["Market price per share relative to earnings per share","Annual dividend yield","Return on assets","Market value of equity relative to book value"], correct:0},
      {section:"Stock Investment Ratios", q:"If market price per share = $45 and EPS = $3, the P/E ratio is:", options:["12","13","14","15"], correct:3},
      {section:"Stock Investment Ratios", q:"The dividend yield ratio measures:", options:["Dividends paid relative to net income","Annual dividends per share ÷ Market price per share","EPS ÷ Market price per share","Dividends per share ÷ EPS"], correct:1},
      {section:"Stock Investment Ratios", q:"If annual dividends per share = $2.25 and market price per share = $45, the dividend yield is:", options:["4%","4.5%","5%","5.5%"], correct:1},
      {section:"Stock Investment Ratios", q:"The dividend payout ratio is calculated as:", options:["Dividends per share ÷ EPS","Dividends per share ÷ Market price per share","EPS ÷ Dividends per share","Market price per share ÷ EPS"], correct:0},
      {section:"Stock Investment Ratios", q:"If EPS = $5.00 and dividends per share = $2.00, the dividend payout ratio is:", options:["35%","40%","45%","50%"], correct:3},

      // 46–51 (Red Flags & Special Items)
      {section:"Red Flags & Special Items", q:"Which of the following is NOT listed as a red flag in financial statement analysis?", options:["Movement of sales and inventory","Decreased cash flow","High P/E ratio","Too much debt"], correct:2},
      {section:"Red Flags & Special Items", q:"A significant buildup in inventory without corresponding sales growth might suggest:", options:["Improved efficiency","Potential obsolescence or overproduction","Better liquidity","Decreased leverage"], correct:1},
      {section:"Red Flags & Special Items", q:"Which of the following is considered an extraordinary item under GAAP?", options:["Routine foreign currency fluctuations","Unusual and infrequent natural disaster loss","Change in depreciation method","Disposal of obsolete inventory"], correct:1},
      {section:"Red Flags & Special Items", q:"Discontinued operations are reported:", options:["As an extraordinary item","Immediately after income from continuing operations","In the notes only","Before gross profit"], correct:1},
      {section:"Red Flags & Special Items", q:"Which would NOT typically be considered a discontinued operation?", options:["Sale of a separate business segment","Closure of a major product line","Routine plant maintenance","Disposal of a foreign subsidiary"], correct:2},
      {section:"Red Flags & Special Items", q:"Why must extraordinary items be reported separately from continuing operations?", options:["They are part of cash flow","They are infrequent and unusual, so they distort normal performance trends","They are required by the MD&A","They are included in EPS calculations differently"], correct:1},

      // 52–60 (Integrated Analysis)
      {section:"Integrated Analysis", q:"A company shows increasing sales but declining profit margin. Which combination of ratios would BEST explain the cause?", options:["Current ratio and quick ratio","Gross profit percentage and inventory turnover","P/E ratio and dividend yield","Debt ratio and leverage ratio"], correct:1},
      {section:"Integrated Analysis", q:"A high current ratio but very low cash ratio might indicate:", options:["Strong liquidity in all forms","Most current assets are tied up in inventory or receivables","High profitability","Excess cash reserves"], correct:1},
      {section:"Integrated Analysis", q:"If a company’s return on equity exceeds its return on total assets, it is most likely:", options:["Experiencing trading on the equity","Under-leveraged","Over-liquid","Reducing fixed assets"], correct:0},
      {section:"Integrated Analysis", q:"Which set of ratios would you check first to evaluate short-term solvency?", options:["Current ratio, acid-test ratio, cash ratio","Debt ratio, equity turnover, leverage ratio","Gross profit percentage, profit margin, EPS","Asset turnover, inventory turnover, P/E ratio"], correct:0},
      {section:"Integrated Analysis", q:"Which ratio set primarily evaluates long-term solvency?", options:["Debt ratio, debt-to-equity ratio, times-interest-earned","Current ratio, acid-test ratio, cash ratio","Inventory turnover, days’ sales in inventory, asset turnover","Profit margin, EPS, dividend yield"], correct:0},
      {section:"Integrated Analysis", q:"Which combination of red flags would MOST likely indicate potential bankruptcy risk?", options:["Decreasing current ratio, increasing debt ratio, declining cash flow","Rising P/E ratio, higher dividend yield","Higher gross profit percentage, declining inventory turnover","Stable working capital, increasing EPS"], correct:0},
      {section:"Integrated Analysis", q:"If trend analysis shows steady asset growth but declining asset turnover, what could this imply?", options:["Assets are being used more efficiently","New assets are not generating proportional sales growth","Debt levels are declining","Dividends are increasing"], correct:1},
      {section:"Integrated Analysis", q:"Why is the P/E ratio sometimes criticized as a valuation measure?", options:["It ignores market price fluctuations","It relies on accounting earnings, which may be manipulated","It does not apply to dividend-paying companies","It cannot be used for comparison"], correct:1},
      {section:"Integrated Analysis", q:"If a company’s dividend payout ratio is 100%, what does that imply?", options:["The company retains all profits","The company pays out all earnings as dividends, retaining none for growth","The company is reinvesting all earnings","The company is issuing new shares"], correct:1}
    ];

    // State
    let index = 0; // 0–59
    const chosen = new Array(QUESTIONS.length).fill(null); // store selected option index

    // Elements
    const progressPill = document.getElementById('progressPill');
    const qIndex = document.getElementById('qIndex');
    const sectionText = document.getElementById('sectionText');
    const questionText = document.getElementById('questionText');
    const optionsEl = document.getElementById('options');
    const revealBtn = document.getElementById('revealBtn');
    const resetBtn = document.getElementById('resetBtn');
    const revealBox = document.getElementById('revealBox');
    const bar = document.getElementById('bar');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    function render(){
      const total = QUESTIONS.length;
      const q = QUESTIONS[index];

      progressPill.textContent = `${index+1} / ${total}`;
      qIndex.textContent = `Question ${index+1}`;
      sectionText.textContent = q.section;
      questionText.textContent = q.q;
      revealBox.classList.remove('show');
      revealBox.textContent = '';

      // progress bar width
      bar.style.width = `${((index) / (total-1)) * 100}%`;

      // build options
      optionsEl.innerHTML = '';
      q.options.forEach((txt, i)=>{
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.setAttribute('role','radio');
        btn.setAttribute('aria-checked', chosen[index]===i ? 'true' : 'false');
        btn.setAttribute('aria-selected', chosen[index]===i ? 'true' : 'false');
        btn.addEventListener('click', ()=> selectOption(i));

        const key = document.createElement('div');
        key.className = 'opt-key';
        key.textContent = String.fromCharCode(65+i);

        const span = document.createElement('div');
        span.className = 'opt-text';
        span.textContent = txt;

        btn.appendChild(key); btn.appendChild(span);
        optionsEl.appendChild(btn);
      });

      // arrow states
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === total-1;
    }

    function selectOption(i){
      chosen[index] = i;
      // Update selection visuals
      [...optionsEl.children].forEach((el, idx)=>{
        el.classList.remove('correct','wrong');
        el.setAttribute('aria-selected', chosen[index]===idx ? 'true' : 'false');
      });
    }

    function reveal(){
      const q = QUESTIONS[index];
      const correct = q.correct;
      [...optionsEl.children].forEach((el, idx)=>{
        el.classList.remove('correct','wrong');
        if(idx === correct) el.classList.add('correct');
        if(chosen[index] !== null){
          if(idx === chosen[index] && chosen[index] !== correct){ el.classList.add('wrong'); }
        }
      });
      const key = String.fromCharCode(65 + correct);
      revealBox.innerHTML = `<strong>Correct Answer:</strong> ${key} – ${q.options[correct]}`;
      revealBox.classList.add('show');
    }

    function clearSelection(){
      chosen[index] = null;
      [...optionsEl.children].forEach(el=>{
        el.classList.remove('correct','wrong');
        el.setAttribute('aria-selected','false');
      });
      revealBox.classList.remove('show');
      revealBox.textContent = '';
    }

    function next(){ if(index < QUESTIONS.length-1){ index++; render(); } }
    function prev(){ if(index > 0){ index--; render(); } }

    // Events
    revealBtn.addEventListener('click', reveal);
    resetBtn.addEventListener('click', clearSelection);
    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);

    // Keyboard navigation
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight'){ next(); }
      else if(e.key === 'ArrowLeft'){ prev(); }
      else if(e.key.toLowerCase() === 'r'){ reveal(); }
      else if(e.key.toLowerCase() === 'c'){ clearSelection(); }
      // quick select A–D
      const map = {a:0,b:1,c:2,d:3};
      if(map.hasOwnProperty(e.key.toLowerCase())){
        selectOption(map[e.key.toLowerCase()]);
      }
    });

    // Init
    render();
  </script>
</body>
</html>
